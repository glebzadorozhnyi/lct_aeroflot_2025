<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü™õ</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>

    <div
        style="display: flex; align-items: center; gap: 10px; transform: translateX(-520px); margin-top: 30px; margin-bottom: 20px;">
        <img src="static/otvertka.png" style="width:48px; height:48px; border-radius:50px; border:1px #D0D0D0 solid;">
        <span style="font-size:16px; font-weight:700; color:#141414;">–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</span>
    </div>
    <div id="loading">Loading...</div>
    <div id="screen1" class="hidden" style="
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px; /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π */
    height: 50vh; /* –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞ */
">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div style="color: #141414; font-size: 40px; font-weight: 700; text-align: center;">
            –í—ã–±–µ—Ä–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ -->
        <label for="fileInputScreen1" style="
            cursor: pointer;
            background-color: #6169FF;
            color: white;
            padding: 17px 34px;
            border-radius: 16px;
            display: inline-flex;
            align-items: center;
            font-size: 16px;
            gap: 8px;
        ">
            <img src="static/plus.png" alt="+" style="width: 22px; height: 22px;">
            –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        </label>
        <input type="file" multiple id="fileInputScreen1" accept="image/*" style="display: none;">
    </div>

    <div id="screen2" class="" style="display: flex; gap: 20px; max-width: 100%; align-items: flex-start;">


        <div style="display: flex; flex-direction: column; align-items: center; gap: 16px;">
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
            <div id="imgFrame">
                <img id="imageContainer" src="static/otvertka.png" alt="empty" style="display: block">
                <button class="nav-btn left"></button>
                <button class="nav-btn right"></button>
            </div>

            <div
                style="width: 90%; padding: 0 32px; margin-top: 8px; display: flex; justify-content: space-between; align-items: center;">
                <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
                <div style="display: flex; align-items: center; gap: 12px;">
                    <select id="currentImageFileSelector"></select>
                    <img src="static/blue_arrow.png" style="width:16px; height:8px; margin-left: -28px;">
                </div>

                <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å -->
                <span id="frameCounter" style="font-size: 16px; font-weight: 500;">0 / 0</span>
            </div>

            <div style="width: 88%; padding: 0 32px; margin-top: 8px; display: flex; align-items: center; gap: 8px;">
                <label class="switch">
                    <input type="checkbox" id="switchShowRawImage" checked>
                    <span class="slider"></span>
                </label>
                <span style="font-size: 14px; color: #141414;">–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–Ω—Ç—É—Ä—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</span>
            </div>


            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º -->
            <div style="display: flex; justify-content: center; gap: 16px; margin-top: 12px;">
                <!-- –õ–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ -->
                <label for="fileInputScreen2" style="
            cursor: pointer;
            background-color: #6169FF;
            color: white;
            padding: 17px 34px;
            border-radius: 16px;
            display: inline-flex;
            align-items: center;
            font-size: 16px;
            gap: 8px;
        ">
                    <img src="static/plus.png" alt="+" style="width: 22px; height: 22px;">
                    –î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                </label>
                <input type="file" multiple id="fileInputScreen2" accept="image/*" style="display: none;">
                <!-- –°—Ä–µ–¥–Ω—è—è –∫–Ω–æ–ø–∫–∞ -->
                <label for="jsonLoad" style="
            cursor: pointer;
            border: 1px solid #D0D0D0;
            background: #FFF;
            color: #141414;
            padding: 17px 34px;
            border-radius: 16px;
            display: inline-flex;
            align-items: center;
            font-size: 16px;
            gap: 8px;
        ">
                    <img src="static/download.png" alt="+" style="width: 22px; height: 22px;">
                    <a href="/get_json_report" download style="text-decoration: none; color: inherit;">–°–∫–∞—á–∞—Ç—å
                        —Ä–µ–∑—É–ª—å—Ç–∞—Ç</a>

                </label>
                <input type="button" id="jsonLoad" style="display: none;" onclick="jsonDownload()">


                </label>
                <button id="BtnCleanerDatabaseAndImageStorage">
                    <img src="static/refresh.png" alt="+" style="width: 20px; height: 20px;">
                    –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                <!-- <input type="button"  style="display: none;" onclick="()"> -->
                <!-- <input type="button" id="BtnCleanerDatabaseAndImageStorage" style="display: none;" onclick="clearDatabaseAndImageStorage()"> -->
            </div>


        </div>

        <div>
            <div class="cart-panel" id="cartPanel">


                <div class="cart-list"
                    style="display: grid; grid-template-columns: 2fr 2fr 1fr; gap: 44px; align-items: center; row-gap: 26px; ">

                    <!-- –ó–∞–≥–æ–ª–æ–≤–∫–∏ -->
                    <div style="font-weight: 700; padding: 0px 12px">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</div>
                    <div style="font-weight: 700;">–û–∂–∏–¥–∞–µ—Ç—Å—è</div>
                    <div style="font-weight: 700;">–ù–∞–π–¥–µ–Ω–æ</div>

                    <!-- –°—Ç—Ä–æ–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ -->
                    {% for item in cart_items %}
                    <div id="row_{{ loop.index }}" class="row-name">{{ item }}</div>

                    <div class="cart-row" style="display: flex; align-items: center;">
                        <button class="qty-btn minus" type="button" aria-label="–£–º–µ–Ω—å—à–∏—Ç—å">‚àí</button>
                        <input id="table_{{ loop.index }}1" class="qty-input" type="text" inputmode="numeric"
                            pattern="[0-9]*" value="1" aria-label="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ">
                        <button class="qty-btn plus" type="button" aria-label="–£–≤–µ–ª–∏—á–∏—Ç—å">+</button>
                    </div>

                    <div style="text-align: center;">
                        <span id="table_{{ loop.index }}2" class="qty-text">1</span>
                    </div>
                    {% endfor %}

                </div>

            </div>
            <div id="checkStatus"> –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ highlightDifferences() </div>
        </div>

    </div>
    <script src="/static/main.js"></script>
    <script src="/static/table.js"></script>
</body>

</html>